{
  "name": "go-react-framework-root",
  "private": true,
  "version": "0.0.1",
  "workspaces": [
    "user-app",
    "node-renderer"
  ],
  "devDependencies": {
    "npm-run-all": "^4.1.5"
  },
  "scripts": {
    "dev:node": "run-p --race node:watch node:start",
    "node:watch": "pnpm --filter node-renderer dev:client",
    "node:start": "pnpm --filter node-renderer start",
    "dev:go": "cd go-orchestrator && go run main.go",
    "dev": "run-p dev:node dev:go",

    "build:client": "pnpm --filter node-renderer build:client",
    "build:go": "cd go-orchestrator && go build -o server main.go",
    "build": "run-s build:client build:go",

    "start:node": "pnpm --filter node-renderer start",
    "start:go": "cd go-orchestrator && ./server",
    "start": "run-p start:node start:go",

    "install:go": "mkdir -p bin && cd go-orchestrator && go build -o ../bin/go-orchestrator",
    "postinstall": "pnpm install:go"
  }
} 